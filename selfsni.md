---
title: Установка своего SNI сайта
description: 
published: true
date: 2025-08-08T15:04:09.861Z
tags: 
editor: markdown
dateCreated: 2025-07-28T13:12:40.522Z
---

# Настройка SNI сайта для Reality

В данной инструкции будет описана пошаговая настройка сайта для работы Reality, с использованием веб сервера Nginx и Certbot

## Привязка IP адреса сервера к доменному имени

**SNI сайт невозможно поднять без доменного имени, Вы можете быстро и легко приобрести домен у нас на сайте за несколько минут** - https://my-aeza.net/order/domain 

Нам требуется добавить А запись которая будет направлена на сервер
**Сделать это можно указав знак @ и IP сервера**

![image_(1).jpg](/selfsni/image_(1).jpg)

**Сохраняем информацию и подтверждаем добавление данной А записи**
**Ожидаем от 5 минут до 24х часов глобального обновления после чего продолжаем настройку**

## Установка скрипта

**В данном случае будет описана настройка на сервере с операционной системой Ubuntu 24.04**

Для этого подключитесь к консоле сервера с помощью [SSH](/kak-podklyuchitsya-po-ssh-i-sftp)
И введите следующую команду:

``` bash
bash <(curl -Ls https://raw.githubusercontent.com/YukiKras/vless-scripts/refs/heads/main/fakesite.sh)
```

Вас запросят ввести доменное имя, которое вы настраивали в предедущем шаге:

![windowsterminal_ijrctmuc6p.png](/selfsni/windowsterminal_ijrctmuc6p.png)

Вводите его и нажимаете на **Enter**

Далее скрипт запросит выбрать внутренний SelfSNI порт, вы можете его оставить по умолчанию просто нажав на **Enter**:

![windowsterminal_wyzkp2ftgv.png](/selfsni/windowsterminal_wyzkp2ftgv.png)

Готово! Просто дожидайтесь установки, результат успешной установки выглядит так:

![windowsterminal_sytorbczbs.png](/selfsni/windowsterminal_sytorbczbs.png)

Рассмотрим внесение настроек SNI в 3x-ui и в Marzban панелях

## Настройка Vless в 3x-ui панели

Для этого откройте 3x-ui панель и перейдите в раздел "Инбаунды":

![bbchexvq6n.png](/selfsni/bbchexvq6n.png)

Далее у вашего Vless подключения нажимаем на троеточие и кнопку "Изменить":

![waterfox_fzhgnhtep4.png](/selfsni/waterfox_fzhgnhtep4.png)

Далее копируем настройки из консоли и вставляем в панель, нажимаем на "**Get New Cert**":

![waterfox_rgqanbgrft.png](/selfsni/waterfox_rgqanbgrft.png)

И только после 3 шага из скриншота нажимаем на кнопку "**Обновить**" (шаг 4)

Далее необходимо скопировать новые Vless ключи и перенастроить ваших клиентов.

## Настройка Vless в Marzban панели

Для этого откройте Marzban панель и перейдите в его настройки:

![n0khshl0hn.png](/selfsni/n0khshl0hn.png)

Скопируйте и вставьте настройки из консоли, нажмите на перезагрузку ядра и сохранения изменений:

![waterfox_phziqluthw.png](/selfsni/waterfox_phziqluthw.png)

Далее нажмите на клавишу **F5** и скопируйте новые Vless ключи и перенастройте на работу с ними ваших клиентов.

# Разбор ошибок и путей их решения

## Порт 443/80 занят, пожалуйста освободите порт

Если у вас выводится это сообщение, это означает что у вас вероятнее всего настроен Vless на 443 порту

![windowsterminal_qiygnscw0r.png](/selfsni/windowsterminal_qiygnscw0r.png)

Рассмотрим пути решения для 3x-ui и Marzban панелей.

### Временное отключение инбаунда в 3x-ui панели

Для этого откройте 3x-ui панель и перейдите в раздел "Инбаунды":

![bbchexvq6n.png](/selfsni/bbchexvq6n.png)

И нужно переключить данный переключатель у данного порта:

![waterfox_w8xamtaaaz.png](/selfsni/waterfox_w8xamtaaaz.png)

> Готово, можете просто начать [пункт с установкой скрипта](https://wiki.yukikras.net/ru/selfsni#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B0) заново
{.is-success}

> **После настройки не забудьте обратно включить!**
{.is-warning}

### Временная смена порта в Marzban панели


Для этого откройте Marzban панель и перейдите в его настройки:

![n0khshl0hn.png](/selfsni/n0khshl0hn.png)

Далее прописываес порт у Vless временно на какой-то другой, например на 8443 порт:

![ufnhzw3pcd.png](/selfsni/ufnhzw3pcd.png)

Далее нажимаем на кнопку **Сохранить**

> Готово, можете просто начать [пункт с установкой скрипта](https://wiki.yukikras.net/ru/selfsni#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B0) заново
{.is-success}

> **После настройки не забудьте обратно сменить порт на 443!**
{.is-warning}

## A-запись домена не соответствует внешнему IP сервера или не удалось получить A-запись для домена

Если у вас выводится это сообщение:

![windowsterminal_dd8wgkzayg.png](/selfsni/windowsterminal_dd8wgkzayg.png)

То это означает что DNS записи ещё пока не были обновлены или вы написали доменное имя с опечаткой.

Обновление DNS записей обычно занимает до 24 часов, в некоторых случаях это может занимать 72 часа.